{% extends 'layout.html' %}
{% set active_page = "view" %}
{% block title %}
<title>Librarian | View Book</title>
{% endblock %}
{% block content %}
<div class="btn-group mb-2" role="group" aria-label="Issue and Return Books">
    <a role="button" class="btn btn-light {{ 'active' if available }}" href="{{url_for('view_book')}}">Available</a>
    <a role="button" class="btn btn-light {{ 'active' if not available }}" href="{{url_for('view_book')}}">Issued</a>
</div>
<div class="section-content text-warning">
    <legend class="border-bottom border-light mb-4">View Books</legend>
    <div class="table-responsive">
    <table class="table table-hover table-bordered">
        <thead class="thead-dark"> 
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Authors</th>
                <th scope="col">Department</th>
                <th scope="col">Edition</th>
                <th scope="col">Price</th>
                <th scope="col">Available Copies</th>
            </tr>
        </thead>
        <tbody>
            {% if not inst_books %}
                <tr class="table-light">
                    <td colspan="7">-- NIL --</td>
                </tr>
            {% else %}
            {% for inst_book in inst_books %}
                <tr class="table-light">
                    <th scope="row">{{inst_book.book.id}}</th>
                    <td>{{inst_book.book.name}}</td>
                    <td>{{inst_book.book.get_authors()}}</td>
                    <td>{{inst_book.book.dept.name.upper()}}</td>
                    <td>{{inst_book.book.edition}}</td>
                    <td>{{inst_book.book.price}}</td>
                    <td>{{inst_book.copies_available}}</td>
                    
                </tr>
            {% endfor %}
            {% endif %}
        </tbody>
    </table>
    </div>
</div>

{% endblock %}